<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Regex Colorizer</title>
  <link id="default-ss" href="../themes/default.css" rel="stylesheet" title="Default">
  <link id="nobg-ss" href="../themes/nobg.css" rel="alternate stylesheet" title="No BG">
  <link id="regexpal-ss" href="../themes/regexpal.css" rel="alternate stylesheet" title="RegexPal">
  <link id="regexbuddy-ss" href="../themes/regexbuddy.css" rel="alternate stylesheet" title="RegexBuddy">
  <link href="styles.css" rel="stylesheet">
</head>
<body>
  <h1>
    Regex Colorizer
    <a href="https://github.com/slevithan/regex-colorizer">
      <img src="https://upload.wikimedia.org/wikipedia/commons/c/c2/GitHub_Invertocat_Logo.svg" width="25" height="25" alt="GitHub">
    </a>
  </h1>
  <ul>
    <li><strong>Current version:</strong> 0.4.0.</li>
    <li><strong>Size:</strong> 3.4 KB min/gzip, with no dependencies.</li>
    <li><strong>License:</strong> <a href="https://mit-license.org/">MIT</a>.</li>
  </ul>
  <p>Add syntax highlighting to your regexes in blogs, docs, and regex testers. Supports the <strong>JavaScript regex flavor</strong>, with extensions for <strong>web reality</strong>. Regex syntax is complex, and the highlighting is contextually aware of things that happen forward or backward in the regex. Unsupported regex features are marked as errors, along with some edge cases that can cause cross-browser grief. Syntax changes activated by flags <code>u</code> and <code>v</code> are not yet supported.</p>
  <p>The API is simple. Just give the elements that contain your regexes&mdash;<code>pre</code>, <code>code</code>, or whatever&mdash;the class <code>regex</code>, and call a couple functions (see below).</p>

  <h2>Examples</h2>
  <h3>SSN</h3>
  <pre class="regex">^(?!000|666)(?:[0-6]\d{2}|7(?:[0-6]\d|7[012]))-(?!00)\d{2}-(?!0000)\d{4}$</pre>
  <h3>Quoted string, allowing escaped quotes and slashes</h3>
  <pre class="regex">(["'])(?:\\?.)*?\1</pre>

  <h2>Try it</h2>
  <p><textarea id="input" rows="3" cols="70" placeholder="Type a regex pattern" spellcheck="false" oninput="colorizeInput()"></textarea></p>
  <pre id="output" class="regex">Type a regex pattern</pre>

  <h2>Themes</h2>
  <div class="no-margin-collapse">
    <p>
      <button id="default-btn" onclick="setTheme('default')" disabled>Default</button>
      <button id="nobg-btn" onclick="setTheme('nobg')">No BG</button>
      <button id="regexpal-btn" onclick="setTheme('regexpal')">RegexPal</button>
      <button id="regexbuddy-btn" onclick="setTheme('regexbuddy')">RegexBuddy</button>
    </p>
  </div>

  <h2>More examples</h2>
  <h3>Regex with errors</h3>
  <p>Errors are highlighted in red. Hover over them for a description of the problem.</p>
  <pre class="regex">Oh h\i+?? x*+ |? a{1,2}b{2,1} ||(?:a|b)* (?&lt;=(?&lt;name>x))* (?>n)
((((?:((a))b.c)d|x(y){65536,}))))
[^1-59-6\b-\cX.a-\w!---] \xFF \x \uFF\uFFFF\z\v\1\\\</pre>
  <h3>Octals and backreferences</h3>
  <pre class="regex">\\ Octals: leading 0 extends length
\1234 \01234 \00123 \00000 \18 \80 \377 \400
\\ After a capturing group
(1) \10 \01000 \2000 \k&lt;1>
\\ Different rules for leading 0 in character classes
[ \1234 is the same but not \0123 ]
\\ Double-digit backreferences
(2)(3)(?&lt;name>4)(5)(6)(7)(8)(9)(10) \100 \11 \80</pre>
  <div class="no-margin-collapse">
    <p>Another example of the contextual awareness of highlighting is the handling for <code>\k&lt;name></code>. Without flag <code>u</code> or <code>v</code>, it's only a named backreference if a named capture appears in the regex (before or after the backreference, with any capture name).</p>
  </div>

  <h2>Usage</h2>
  <p>Here's the code running on this page to highlight all of the above regexes:</p>
  <pre>// Don't run this line if you provide your own stylesheet
RegexColorizer.addStyleSheet();

// Can provide a class name for elements to process (defaults to 'regex')
RegexColorizer.colorizeAll();</pre>
  <p>There is also <code>RegexColorizer.colorizeText()</code> that returns HTML with highlighting for the provided regex pattern string.</p>

  <footer>
    <p>&copy; 2010&ndash;2024 Steven Levithan | <a href="https://github.com/slevithan/regex-colorizer">GitHub</a></p>
  </footer>

  <script src="../regex-colorizer.js"></script>
  <script>
    RegexColorizer.colorizeAll();

    function setTheme(name) {
      const themes = ['default', 'nobg', 'regexpal', 'regexbuddy'];
      themes.forEach(theme => {
        document.getElementById(`${theme}-btn`).disabled = theme === name;
        // Need to disable all before enabling the active stylesheet
        document.getElementById(`${theme}-ss`).disabled = true;
      });
      document.getElementById(`${name}-ss`).disabled = false;
    }

    function colorizeInput() {
      const input = document.getElementById('input').value;
      const html = RegexColorizer.colorizeText(input);
      document.getElementById('output').innerHTML = html;
    }
  </script>
</body>
</html>
