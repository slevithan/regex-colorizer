var RegexColorizer=function(){"use strict";function a(a,b){return'<b class="err"'+(b?' title="'+b+'"':"")+">"+a+"</b>"}function b(a,b){return'<b class="g'+b+'">'+a+"</b>"}function c(a){return a.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(a){if(document.getElementsByClassName)return document.body.getElementsByClassName(a);var b,c=document.body.getElementsByTagName("*"),d=new RegExp("(?:^|\\s)"+a+"(?:\\s|$)"),e=[],f=c.length;for(b=0;f>b;b++)d.test(c[b].className)&&e.push(c[b]);return e}function e(a){if(a.length>1&&"\\"===a.charAt(0)){var b=a.slice(1);if(/^c[A-Za-z]$/.test(b))return"ABCDEFGHIJKLMNOPQRSTUVWXYZ".indexOf(b.charAt(1).toUpperCase())+1;if(/^(?:x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4})$/.test(b))return parseInt(b.slice(1),16);if(/^(?:[0-3][0-7]{0,2}|[4-7][0-7]?)$/.test(b))return parseInt(b,8);if(1===b.length&&"cuxDdSsWw".indexOf(b)>-1)return 0/0;if(1===b.length)switch(b){case"b":return 8;case"f":return 12;case"n":return 10;case"r":return 13;case"t":return 9;case"v":return 11;default:return b.charCodeAt(0)}}return"\\"!==a?a.charCodeAt(0):0/0}function f(b){var d,f,g="",h=j.exec(b),k={rangeable:!1,type:l.NONE};for(h={opening:h[1],content:h[2],closing:h[3]},g+=h.closing?h.opening:a(h.opening,m.UNCLOSED_CLASS);d=i.exec(h.content);)if(f=d[0],"\\"===f.charAt(0))/^\\[cux]$/.test(f)?(g+=a(f,m.INCOMPLETE_TOKEN),k={rangeable:k.type!==l.RANGE_HYPHEN}):/^\\[dsw]$/i.test(f)?(g+="<b>"+f+"</b>",k={rangeable:k.type!==l.RANGE_HYPHEN,type:l.SHORT_CLASS}):"\\"===f?g+=a(f,m.INCOMPLETE_TOKEN):(g+="<b>"+c(f)+"</b>",k={rangeable:k.type!==l.RANGE_HYPHEN,charCode:e(f)});else if("-"===f)if(k.rangeable){var n=i.lastIndex,o=i.exec(h.content);if(o){var p=e(o[0]);g+=!isNaN(p)&&k.charCode>p||k.type===l.SHORT_CLASS||/^\\[dsw]$/i.test(o[0])?a("-",m.INVALID_RANGE):"<u>-</u>",k={rangeable:!1,type:l.RANGE_HYPHEN}}else g+=h.closing?"-":"<u>-</u>";i.lastIndex=n}else g+="-",k={rangeable:k.type!==l.RANGE_HYPHEN};else g+=c(f),k={rangeable:f.length>1||k.type!==l.RANGE_HYPHEN,charCode:f.charCodeAt(f.length-1)};return g+h.closing}var g={},h=/\[\^?]?(?:[^\\\]]+|\\[\S\s]?)*]?|\\(?:0(?:[0-3][0-7]{0,2}|[4-7][0-7]?)?|[1-9][0-9]*|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)|\((?:\?[:=!]?)?|(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??|[^.?*+^${[()|\\]+|./g,i=/[^\\-]+|-|\\(?:[0-3][0-7]{0,2}|[4-7][0-7]?|x[0-9A-Fa-f]{2}|u[0-9A-Fa-f]{4}|c[A-Za-z]|[\S\s]?)/g,j=/^(\[\^?)(]?(?:[^\\\]]+|\\[\S\s]?)*)(]?)$/,k=/^(?:[?*+]|\{[0-9]+(?:,[0-9]*)?\})\??$/,l={NONE:0,RANGE_HYPHEN:1,SHORT_CLASS:2,ALTERNATOR:3},m={UNCLOSED_CLASS:"Unclosed character class",INCOMPLETE_TOKEN:"Incomplete regex token",INVALID_RANGE:"Reversed or invalid range",INVALID_GROUP_TYPE:"Invalid or unsupported group type",UNBALANCED_LEFT_PAREN:"Unclosed grouping",UNBALANCED_RIGHT_PAREN:"No matching opening parenthesis",INTERVAL_OVERFLOW:"Interval quantifier cannot use value over 65,535",INTERVAL_REVERSED:"Interval quantifier range is reversed",UNQUANTIFIABLE:"Quantifiers must be preceded by a token that can be repeated",IMPROPER_EMPTY_ALTERNATIVE:"Empty alternative effectively truncates the regex here"};return g.colorizeText=function(d){for(var e,g,i,j,n="",o=0,p=0,q=[],r={quantifiable:!1,type:l.NONE};e=h.exec(d);)if(g=e[0],i=g.charAt(0),j=g.charAt(1),"["===i)n+="<i>"+f(g)+"</i>",r={quantifiable:!0};else if("("===i)2===g.length?n+=a(g,m.INVALID_GROUP_TYPE):(1===g.length&&o++,p=5===p?1:p+1,q.push({index:n.length+'<b class="gN">'.length,opening:g}),n+=b(g,p)),r={quantifiable:!1};else if(")"===i)q.length?(n+=b(")",p),r={quantifiable:!/^[=!]/.test(q[q.length-1].opening.charAt(2)),style:"g"+p},p=1===p?5:p-1,q.pop()):(n+=a(")",m.UNBALANCED_RIGHT_PAREN),r={quantifiable:!1});else if("\\"===i)if(/^[1-9]/.test(j)){for(var s="",t=+g.slice(1);t>o;)s=/[0-9]$/.exec(t)[0]+s,t=Math.floor(t/10);if(t>0)n+="<b>\\"+t+"</b>"+s;else{var u=/^\\([0-3][0-7]{0,2}|[4-7][0-7]?|[89])([0-9]*)/.exec(g);n+="<b>\\"+u[1]+"</b>"+u[2]}r={quantifiable:!0}}else/^[0bBcdDfnrsStuvwWx]/.test(j)?/^\\[cux]$/.test(g)?(n+=a(g,m.INCOMPLETE_TOKEN),r={quantifiable:!1}):"bB".indexOf(j)>-1?(n+="<b>"+g+"</b>",r={quantifiable:!1}):(n+="<b>"+g+"</b>",r={quantifiable:!0}):"\\"===g?n+=a(g,m.INCOMPLETE_TOKEN):(n+=c(g),r={quantifiable:!0});else if(k.test(g)){if(r.quantifiable){var v=/^\{([0-9]+)(?:,([0-9]*))?/.exec(g);n+=v&&(+v[1]>65535||v[2]&&+v[2]>65535)?a(g,m.INTERVAL_OVERFLOW):v&&v[2]&&+v[1]>+v[2]?a(g,m.INTERVAL_REVERSED):(r.style?'<b class="'+r.style+'">':"<b>")+g+"</b>"}else n+=a(g,m.UNQUANTIFIABLE);r={quantifiable:!1}}else"|"===g?(n+=r.type===l.NONE||r.type===l.ALTERNATOR&&!q.length?a(g,m.IMPROPER_EMPTY_ALTERNATIVE):q.length?b("|",p):"<b>|</b>",r={quantifiable:!1,type:l.ALTERNATOR}):"^"===g||"$"===g?(n+="<b>"+g+"</b>",r={quantifiable:!1}):"."===g?(n+="<b>.</b>",r={quantifiable:!0}):(n+=c(g),r={quantifiable:!0});var w,x,y=0;for(x=0;x<q.length;x++)w=q[x].index+y,n=n.slice(0,w)+a(q[x].opening,m.UNBALANCED_LEFT_PAREN)+n.slice(w+q[x].opening.length),y+=a("",m.UNBALANCED_LEFT_PAREN).length;return n},g.colorizeAll=function(a){a=a||"regex";var b,c,e=d(a),f=e.length;for(c=0;f>c;c++)b=e[c],b.innerHTML=g.colorizeText(b.textContent||b.innerText)},g.addStyleSheet=function(){var a=document.createElement("style"),b=".regex       {font-family: Monospace;} .regex b     {background: #aad1f7;} .regex i     {background: #e3e3e3;} .regex i b   {background: #9fb6dc;} .regex i u   {background: #c3c3c3;} .regex b.g1  {background: #b4fa50; color: #000;} .regex b.g2  {background: #8cd400; color: #000;} .regex b.g3  {background: #26b809; color: #fff;} .regex b.g4  {background: #30ea60; color: #000;} .regex b.g5  {background: #0c8d15; color: #fff;} .regex b.err {background: #e30000; color: #fff;} .regex b, .regex i, .regex u {font-weight: normal; font-style: normal; text-decoration: none;}";a.id="regex-colorizer-ss",document.getElementsByTagName("head")[0].appendChild(a),a.styleSheet?a.styleSheet.cssText=b:a.innerHTML=b},g}();